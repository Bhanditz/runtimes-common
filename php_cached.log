Creating temporary tarball archive of 1541 file(s) totalling 138.8 MiB before compression.
Some files were not included in the source upload.

Check the gcloud log [/usr/local/google/home/aprindle/.config/gcloud/logs/2018.04.23/17.40.14.155804.log] to see which files and the contents of the
default gcloudignore file used (see `$ gcloud topic gcloudignore` to learn
more).

Uploading tarball of [.] to [gs://ftl-node-test_cloudbuild/source/1524530414.63-e78f19e724e74438bb192890fa2700a4.tgz]
Created [https://cloudbuild.googleapis.com/v1/projects/ftl-node-test/builds/858ed360-5af6-42c1-b785-960e9a03ab6c].
Logs are available at [https://console.cloud.google.com/gcr/builds/858ed360-5af6-42c1-b785-960e9a03ab6c?project=935431563186].
--------------------------------- REMOTE BUILD OUTPUT ---------------------------------
starting build "858ed360-5af6-42c1-b785-960e9a03ab6c"

FETCHSOURCE
Fetching storage object: gs://ftl-node-test_cloudbuild/source/1524530414.63-e78f19e724e74438bb192890fa2700a4.tgz#1524530445371526
Copying gs://ftl-node-test_cloudbuild/source/1524530414.63-e78f19e724e74438bb192890fa2700a4.tgz#1524530445371526...
/ [0 files][    0.0 B/ 55.9 MiB]                                                -- [1 files][ 55.9 MiB/ 55.9 MiB]                                                
Operation completed over 1 objects/55.9 MiB.                                     
BUILD
Starting Step #0
Step #0: Already have image (with digest): ubuntu
Finished Step #0
Starting Step #1
Step #1: Already have image (with digest): gcr.io/cloud-builders/bazel
Step #1: Extracting Bazel installation...
Step #1: ...........................
Step #1: Loading: 
Step #1: Loading: 0 packages loaded
Step #1: Loading: 0 packages loaded
Step #1: Loading: 0 packages loaded
Step #1: Loading: 0 packages loaded
Step #1: Loading: 0 packages loaded
Step #1: Loading: 0 packages loaded
Step #1: Loading: 0 packages loaded
Step #1:     currently loading: ftl
Step #1: Analyzing: target //ftl:php_builder.par (2 packages loaded)
Step #1: Analyzing: target //ftl:php_builder.par (3 packages loaded)
Step #1: Analyzing: target //ftl:php_builder.par (6 packages loaded)
Step #1: Analyzing: target //ftl:php_builder.par (13 packages loaded)
Step #1: INFO: Analysed target //ftl:php_builder.par (26 packages loaded).
Step #1: INFO: Found 1 target...
Step #1: [0 / 1] [-----] BazelWorkspaceStatusAction stable-status.txt
Step #1: Target //ftl:php_builder.par up-to-date:
Step #1:   bazel-bin/ftl/php_builder.par
Step #1: INFO: Elapsed time: 20.753s, Critical Path: 0.46s
Step #1: INFO: Build completed successfully, 17 total actions
Finished Step #1
Starting Step #2
Step #2: Already have image (with digest): gcr.io/cloud-builders/bazel
Step #2: .
Step #2: Loading: 
Step #2: Loading: 0 packages loaded
Step #2: Loading: 0 packages loaded
Step #2:     currently loading: ftl/php/cached
Step #2: Analyzing: target //ftl/php/cached:php_cached_image (3 packages loaded)
Step #2: Analyzing: target //ftl/php/cached:php_cached_image (6 packages loaded)
Step #2: Analyzing: target //ftl/php/cached:php_cached_image (7 packages loaded)
Step #2: Analyzing: target //ftl/php/cached:php_cached_image (11 packages loaded)
Step #2: Analyzing: target //ftl/php/cached:php_cached_image (18 packages loaded)
Step #2: Analyzing: target //ftl/php/cached:php_cached_image (21 packages loaded)
Step #2: Analyzing: target //ftl/php/cached:php_cached_image (25 packages loaded)
Step #2: Analyzing: target //ftl/php/cached:php_cached_image (25 packages loaded)
Step #2: INFO: Analysed target //ftl/php/cached:php_cached_image (29 packages loaded).
Step #2: INFO: Found 1 target...
Step #2: [0 / 1] [-----] BazelWorkspaceStatusAction stable-status.txt
Step #2: [10 / 11] GUNZIP external/php_base/image/007.tar.gz.nogz; 0s linux-sandbox
Step #2: [18 / 21] GUNZIP external/php_base/image/016.tar.gz.nogz; 0s linux-sandbox
Step #2: [34 / 38] no action
Step #2: [34 / 38] GUNZIP external/php_base/image/003.tar.gz.nogz; 1s linux-sandbox
Step #2: [34 / 38] GUNZIP external/php_base/image/003.tar.gz.nogz; 9s linux-sandbox
Step #2: [35 / 38] [-----] SHA256 external/php_base/image/003.tar.gz.nogz.sha256
Step #2: [41 / 43] [-----] SHA256 external/php_base/image/004.tar.gz.nogz.sha256
Step #2: Target //ftl/php/cached:php_cached_image up-to-date:
Step #2:   bazel-bin/ftl/php/cached/php_cached_image-layer.tar
Step #2: INFO: Elapsed time: 56.992s, Critical Path: 25.90s
Step #2: INFO: Build completed successfully, 56 total actions
Step #2: 
Step #2: INFO: Running command line: bazel-bin/ftl/php/cached/php_cached_image --norun
Step #2: Loaded image ID: sha256:d15261ed7c7226a7199f68be98f05b2435205b5abfe95aec7aac0b10e1905d9d
Step #2: Tagging d15261ed7c7226a7199f68be98f05b2435205b5abfe95aec7aac0b10e1905d9d as bazel/ftl/php/cached:php_cached_image
Finished Step #2
Starting Step #3
Step #3: Already have image: bazel/ftl/php/cached:php_cached_image
Step #3: 2018-04-24,00:43:02.895 INFO     Beginning building php images
Step #3: 2018-04-24,00:43:02.896 INFO     label: original
Step #3: 2018-04-24,00:43:02.896 INFO     dir: /workspace/ftl/php/testdata/lock_test
Step #3: 2018-04-24,00:44:00.746 INFO     output of build original: INFO     FTL version php-v0.3.0
Step #3: INFO     Beginning FTL build for php
Step #3: INFO     FTL arg passed: exposed_ports None
Step #3: INFO     FTL arg passed: cache_repository None
Step #3: INFO     FTL arg passed: tar_base_image_path None
Step #3: INFO     FTL arg passed: name gcr.io/ftl-node-test/php-lock-plus-one/cache/lock_test:original
Step #3: INFO     FTL arg passed: log_path None
Step #3: INFO     FTL arg passed: global_cache False
Step #3: INFO     FTL arg passed: cache True
Step #3: INFO     FTL arg passed: upload True
Step #3: INFO     FTL arg passed: base gcr.io/gae-runtimes/php72_app_builder:argo_current
Step #3: INFO     FTL arg passed: output_path None
Step #3: INFO     FTL arg passed: directory /workspace/ftl/php/testdata/lock_test
Step #3: INFO     FTL arg passed: entrypoint None
Step #3: INFO     FTL arg passed: destination_path srv
Step #3: INFO     FTL arg passed: verbosity NOTSET
Step #3: INFO     starting: full build
Step #3: INFO     starting: builder initialization
Step #3: INFO     Loading Docker credentials for repository 'gcr.io/gae-runtimes/php72_app_builder:argo_current'
Step #3: INFO     Loading Docker credentials for repository 'gcr.io/ftl-node-test/php-lock-plus-one/cache/lock_test:original'
Step #3: INFO     builder initialization took 0 seconds
Step #3: INFO     starting: build process for FTL image
Step #3: INFO     Building package layer: firebase/php-jwt v5.0.0
Step #3: INFO     starting: checking_cached_composer_json_layer
Step #3: DEBUG    Checking cache for cache_key 9d0f30366d373ff3e14cc2d73a6000f9d2229925d66ee31d36c5d504608e872b
Step #3: INFO     No cached base image found for entry: gcr.io/ftl-node-test/php-lock-plus-one/cache/lock_test/php-cache:9d0f30366d373ff3e14cc2d73a6000f9d2229925d66ee31d36c5d504608e872b.
Step #3: INFO     Cache miss on local cache for gcr.io/ftl-node-test/php-lock-plus-one/cache/lock_test/php-cache:9d0f30366d373ff3e14cc2d73a6000f9d2229925d66ee31d36c5d504608e872b
Step #3: INFO     No cached dependency layer for 9d0f30366d373ff3e14cc2d73a6000f9d2229925d66ee31d36c5d504608e872b
Step #3: INFO     [CACHE][MISS] v1:PHP:firebase/php-jwt:v5.0.0->9d0f30366d373ff3e14cc2d73a6000f9d2229925d66ee31d36c5d504608e872b
Step #3: INFO     checking_cached_composer_json_layer took 0 seconds
Step #3: INFO     starting: building_composer_json_layer
Step #3: INFO     starting: rm_vendor_dir
Step #3: INFO     `rm_vendor_dir` full cmd:
Step #3: rm -rf /tmp/tmp5Hc6fI/srv/vendor
Step #3: INFO     `rm_vendor_dir` stdout:
Step #3: 
Step #3: INFO     rm_vendor_dir took 0 seconds
Step #3: INFO     starting: composer_require
Step #3: INFO     `composer_require` full cmd:
Step #3: composer require firebase/php-jwt v5.0.0
Step #3: INFO     `composer_require` stdout:
Step #3: 
Step #3: ERROR    `composer_require` had error output:
Step #3: Do not run Composer as root/super user! See https://getcomposer.org/root for details
Step #3: ./composer.json has been created
Step #3: Loading composer repositories with package information
Step #3: Updating dependencies (including require-dev)
Step #3: Package operations: 1 install, 0 updates, 0 removals
Step #3:   - Installing firebase/php-jwt (v5.0.0): Downloading (connecting...)Downloading (0%)           Downloading (40%)Downloading (90%)Downloading (100%)
Step #3: Writing lock file
Step #3: Generating autoload files
Step #3: 
Step #3: INFO     composer_require took 5 seconds
Step #3: INFO     starting: tar_runtime_package
Step #3: INFO     tar_runtime_package took 0 seconds
Step #3: INFO     starting: gzip_runtime_tar
Step #3: INFO     gzip_runtime_tar took 0 seconds
Step #3: INFO     building_composer_json_layer took 5 seconds
Step #3: INFO     starting: uploading_composer_json_layer
Step #3: INFO     Layer sha256:c6848b3fa551a7e4ba5b90ba330c2a8be4bfc1cfec6405e66a4641e4ad377755 pushed.
Step #3: INFO     Layer sha256:e714a0a8d22f8d52c3876f37f486f68fadf7d1c0d7d43d01fac4956e0edd5d6d pushed.
Step #3: INFO     Finished upload of: gcr.io/ftl-node-test/php-lock-plus-one/cache/lock_test/php-cache:9d0f30366d373ff3e14cc2d73a6000f9d2229925d66ee31d36c5d504608e872b
Step #3: INFO     uploading_composer_json_layer took 2 seconds
Step #3: INFO     Building package layer: google/auth v1.1.0
Step #3: INFO     starting: checking_cached_composer_json_layer
Step #3: DEBUG    Checking cache for cache_key 42ff2d91e3901deb3a8b6847cc7f8f105ce75644fa0b205001a49c7ce5ad411e
Step #3: INFO     No cached base image found for entry: gcr.io/ftl-node-test/php-lock-plus-one/cache/lock_test/php-cache:42ff2d91e3901deb3a8b6847cc7f8f105ce75644fa0b205001a49c7ce5ad411e.
Step #3: INFO     Cache miss on local cache for gcr.io/ftl-node-test/php-lock-plus-one/cache/lock_test/php-cache:42ff2d91e3901deb3a8b6847cc7f8f105ce75644fa0b205001a49c7ce5ad411e
Step #3: INFO     No cached dependency layer for 42ff2d91e3901deb3a8b6847cc7f8f105ce75644fa0b205001a49c7ce5ad411e
Step #3: INFO     [CACHE][MISS] v1:PHP:google/auth:v1.1.0->42ff2d91e3901deb3a8b6847cc7f8f105ce75644fa0b205001a49c7ce5ad411e
Step #3: INFO     checking_cached_composer_json_layer took 0 seconds
Step #3: INFO     starting: building_composer_json_layer
Step #3: INFO     starting: rm_vendor_dir
Step #3: INFO     `rm_vendor_dir` full cmd:
Step #3: rm -rf /tmp/tmpPx4hKI/srv/vendor
Step #3: INFO     `rm_vendor_dir` stdout:
Step #3: 
Step #3: INFO     rm_vendor_dir took 0 seconds
Step #3: INFO     starting: composer_require
Step #3: INFO     `composer_require` full cmd:
Step #3: composer require google/auth v1.1.0
Step #3: INFO     `composer_require` stdout:
Step #3: 
Step #3: ERROR    `composer_require` had error output:
Step #3: Do not run Composer as root/super user! See https://getcomposer.org/root for details
Step #3: ./composer.json has been created
Step #3: Loading composer repositories with package information
Step #3: Updating dependencies (including require-dev)
Step #3: Package operations: 7 installs, 0 updates, 0 removals
Step #3:   - Installing psr/cache (1.0.1): Downloading (connecting...)Downloading (0%)           Downloading (45%)Downloading (100%)
Step #3:   - Installing psr/http-message (1.0.1): Downloading (connecting...)Downloading (0%)           Downloading (95%)Downloading (100%)
Step #3:   - Installing guzzlehttp/psr7 (1.4.2): Downloading (connecting...)Downloading (0%)           Downloading (5%)Downloading (10%)Downloading (15%)Downloading (20%)Downloading (25%)Downloading (30%)Downloading (100%)
Step #3:   - Installing guzzlehttp/promises (v1.3.1): Downloading (connecting...)Downloading (0%)           Downloading (30%)Downloading (40%)Downloading (70%)Downloading (80%)Downloading (100%)
Step #3:   - Installing guzzlehttp/guzzle (6.3.3): Downloading (connecting...)Downloading (0%)           Downloading (5%)Downloading (15%)Downloading (25%)Downloading (30%)Downloading (40%)Downloading (45%)Downloading (50%)Downloading (60%)Downloading (70%)Downloading (75%)Downloading (85%)Downloading (90%)Downloading (95%)Downloading (100%)
Step #3:   - Installing firebase/php-jwt (v5.0.0): Loading from cache
Step #3:   - Installing google/auth (v1.1.0): Downloading (connecting...)Downloading (0%)           Downloading (5%)Downloading (15%)Downloading (25%)Downloading (30%)Downloading (35%)Downloading (40%)Downloading (45%)Downloading (50%)Downloading (55%)Downloading (65%)Downloading (70%)Downloading (80%)Downloading (85%)Downloading (90%)Downloading (100%)
Step #3: guzzlehttp/guzzle suggests installing psr/log (Required for using the Log middleware)
Step #3: Writing lock file
Step #3: Generating autoload files
Step #3: 
Step #3: INFO     composer_require took 4 seconds
Step #3: INFO     starting: tar_runtime_package
Step #3: INFO     tar_runtime_package took 0 seconds
Step #3: INFO     starting: gzip_runtime_tar
Step #3: INFO     gzip_runtime_tar took 0 seconds
Step #3: INFO     building_composer_json_layer took 4 seconds
Step #3: INFO     starting: uploading_composer_json_layer
Step #3: INFO     Layer sha256:62e23daeb56fb3a4e3ed9fa35d0967bfe752fb0e566dbb225133d5561c594d1d pushed.
Step #3: INFO     Layer sha256:83f618e89ac48f9be9b2bb37eb633375f554af2a27ea476699de33c3751b8b85 pushed.
Step #3: INFO     Finished upload of: gcr.io/ftl-node-test/php-lock-plus-one/cache/lock_test/php-cache:42ff2d91e3901deb3a8b6847cc7f8f105ce75644fa0b205001a49c7ce5ad411e
Step #3: INFO     uploading_composer_json_layer took 2 seconds
Step #3: INFO     Building package layer: google/cloud-core v1.13.2
Step #3: INFO     starting: checking_cached_composer_json_layer
Step #3: DEBUG    Checking cache for cache_key a5f53cb9be6c0a44011c1daba96ff56f158a7d4180eda1e408680b8f8ca2b388
Step #3: INFO     No cached base image found for entry: gcr.io/ftl-node-test/php-lock-plus-one/cache/lock_test/php-cache:a5f53cb9be6c0a44011c1daba96ff56f158a7d4180eda1e408680b8f8ca2b388.
Step #3: INFO     Cache miss on local cache for gcr.io/ftl-node-test/php-lock-plus-one/cache/lock_test/php-cache:a5f53cb9be6c0a44011c1daba96ff56f158a7d4180eda1e408680b8f8ca2b388
Step #3: INFO     No cached dependency layer for a5f53cb9be6c0a44011c1daba96ff56f158a7d4180eda1e408680b8f8ca2b388
Step #3: INFO     [CACHE][MISS] v1:PHP:google/cloud-core:v1.13.2->a5f53cb9be6c0a44011c1daba96ff56f158a7d4180eda1e408680b8f8ca2b388
Step #3: INFO     checking_cached_composer_json_layer took 0 seconds
Step #3: INFO     starting: building_composer_json_layer
Step #3: INFO     starting: rm_vendor_dir
Step #3: INFO     `rm_vendor_dir` full cmd:
Step #3: rm -rf /tmp/tmp0q4_W8/srv/vendor
Step #3: INFO     `rm_vendor_dir` stdout:
Step #3: 
Step #3: INFO     rm_vendor_dir took 0 seconds
Step #3: INFO     starting: composer_require
Step #3: INFO     `composer_require` full cmd:
Step #3: composer require google/cloud-core v1.13.2
Step #3: INFO     `composer_require` stdout:
Step #3: 
Step #3: ERROR    `composer_require` had error output:
Step #3: Do not run Composer as root/super user! See https://getcomposer.org/root for details
Step #3: ./composer.json has been created
Step #3: Loading composer repositories with package information
Step #3: Updating dependencies (including require-dev)
Step #3: Package operations: 11 installs, 0 updates, 0 removals
Step #3:   - Installing psr/http-message (1.0.1): Loading from cache
Step #3:   - Installing psr/log (1.0.2): Downloading (connecting...)Downloading (0%)           Downloading (15%)Downloading (100%)
Step #3:   - Installing monolog/monolog (1.23.0): Downloading (connecting...)Downloading (0%)           Downloading (5%)Downloading (10%)Downloading (15%)Downloading (20%)Downloading (25%)Downloading (30%)Downloading (35%)Downloading (40%)Downloading (45%)Downloading (50%)Downloading (55%)Downloading (60%)Downloading (65%)Downloading (70%)Downloading (75%)Downloading (80%)Downloading (85%)Downloading (90%)Downloading (95%)Downloading (100%)
Step #3:   - Installing guzzlehttp/psr7 (1.4.2): Loading from cache
Step #3:   - Installing guzzlehttp/promises (v1.3.1): Loading from cache
Step #3:   - Installing guzzlehttp/guzzle (6.3.3): Loading from cache
Step #3:   - Installing psr/cache (1.0.1): Loading from cache
Step #3:   - Installing firebase/php-jwt (v5.0.0): Loading from cache
Step #3:   - Installing google/auth (v1.3.0): Downloading (connecting...)Downloading (0%)           Downloading (5%)Downloading (10%)Downloading (15%)Downloading (20%)Downloading (25%)Downloading (30%)Downloading (45%)Downloading (50%)Downloading (55%)Downloading (60%)Downloading (65%)Downloading (70%)Downloading (75%)Downloading (80%)Downloading (85%)Downloading (90%)Downloading (100%)
Step #3:   - Installing rize/uri-template (0.3.2): Downloading (connecting...)Downloading (0%)           Downloading (20%)Downloading (45%)Downloading (65%)Downloading (90%)Downloading (100%)
Step #3:   - Installing google/cloud-core (v1.13.2): Downloading (connecting...)Downloading (100%)         
Step #3: monolog/monolog suggests installing aws/aws-sdk-php (Allow sending log messages to AWS services like DynamoDB)
Step #3: monolog/monolog suggests installing doctrine/couchdb (Allow sending log messages to a CouchDB server)
Step #3: monolog/monolog suggests installing ext-amqp (Allow sending log messages to an AMQP server (1.0+ required))
Step #3: monolog/monolog suggests installing ext-mongo (Allow sending log messages to a MongoDB server)
Step #3: monolog/monolog suggests installing graylog2/gelf-php (Allow sending log messages to a GrayLog2 server)
Step #3: monolog/monolog suggests installing mongodb/mongodb (Allow sending log messages to a MongoDB server via PHP Driver)
Step #3: monolog/monolog suggests installing php-amqplib/php-amqplib (Allow sending log messages to an AMQP server using php-amqplib)
Step #3: monolog/monolog suggests installing php-console/php-console (Allow sending log messages to Google Chrome)
Step #3: monolog/monolog suggests installing rollbar/rollbar (Allow sending log messages to Rollbar)
Step #3: monolog/monolog suggests installing ruflin/elastica (Allow sending log messages to an Elastic Search server)
Step #3: monolog/monolog suggests installing sentry/sentry (Allow sending log messages to a Sentry server)
Step #3: google/cloud-core suggests installing symfony/lock (Required for the Spanner cached based session pool. Please require the following commit: 3.3.x-dev#1ba6ac9)
Step #3: Writing lock file
Step #3: Generating autoload files
Step #3: 
Step #3: INFO     composer_require took 6 seconds
Step #3: INFO     starting: tar_runtime_package
Step #3: INFO     tar_runtime_package took 0 seconds
Step #3: INFO     starting: gzip_runtime_tar
Step #3: INFO     gzip_runtime_tar took 0 seconds
Step #3: INFO     building_composer_json_layer took 6 seconds
Step #3: INFO     starting: uploading_composer_json_layer
Step #3: INFO     Layer sha256:3651aa405b2346915973d7de9f338570905ed6973d0f8d979c708f4e202d2661 pushed.
Step #3: INFO     Layer sha256:e0baa5089505b8062f5a638d9b43cbd4b05ed7a84f4ba403e56821d7100915c8 pushed.
Step #3: INFO     Finished upload of: gcr.io/ftl-node-test/php-lock-plus-one/cache/lock_test/php-cache:a5f53cb9be6c0a44011c1daba96ff56f158a7d4180eda1e408680b8f8ca2b388
Step #3: INFO     uploading_composer_json_layer took 2 seconds
Step #3: INFO     Building package layer: guzzlehttp/guzzle 6.3.0
Step #3: INFO     starting: checking_cached_composer_json_layer
Step #3: DEBUG    Checking cache for cache_key 497df4288898bbfe0e827c410a43569d4193f818bd0ffe68b991d7a9139a8a59
Step #3: INFO     No cached base image found for entry: gcr.io/ftl-node-test/php-lock-plus-one/cache/lock_test/php-cache:497df4288898bbfe0e827c410a43569d4193f818bd0ffe68b991d7a9139a8a59.
Step #3: INFO     Cache miss on local cache for gcr.io/ftl-node-test/php-lock-plus-one/cache/lock_test/php-cache:497df4288898bbfe0e827c410a43569d4193f818bd0ffe68b991d7a9139a8a59
Step #3: INFO     No cached dependency layer for 497df4288898bbfe0e827c410a43569d4193f818bd0ffe68b991d7a9139a8a59
Step #3: INFO     [CACHE][MISS] v1:PHP:guzzlehttp/guzzle:6.3.0->497df4288898bbfe0e827c410a43569d4193f818bd0ffe68b991d7a9139a8a59
Step #3: INFO     checking_cached_composer_json_layer took 0 seconds
Step #3: INFO     starting: building_composer_json_layer
Step #3: INFO     starting: rm_vendor_dir
Step #3: INFO     `rm_vendor_dir` full cmd:
Step #3: rm -rf /tmp/tmp0SHWiJ/srv/vendor
Step #3: INFO     `rm_vendor_dir` stdout:
Step #3: 
Step #3: INFO     rm_vendor_dir took 0 seconds
Step #3: INFO     starting: composer_require
Step #3: INFO     `composer_require` full cmd:
Step #3: composer require guzzlehttp/guzzle 6.3.0
Step #3: INFO     `composer_require` stdout:
Step #3: 
Step #3: ERROR    `composer_require` had error output:
Step #3: Do not run Composer as root/super user! See https://getcomposer.org/root for details
Step #3: ./composer.json has been created
Step #3: Loading composer repositories with package information
Step #3: Updating dependencies (including require-dev)
Step #3: Package operations: 4 installs, 0 updates, 0 removals
Step #3:   - Installing guzzlehttp/promises (v1.3.1): Loading from cache
Step #3:   - Installing psr/http-message (1.0.1): Loading from cache
Step #3:   - Installing guzzlehttp/psr7 (1.4.2): Loading from cache
Step #3:   - Installing guzzlehttp/guzzle (6.3.0): Downloading (connecting...)Downloading (0%)           Downloading (5%)Downloading (15%)Downloading (25%)Downloading (30%)Downloading (35%)Downloading (45%)Downloading (50%)Downloading (60%)Downloading (65%)Downloading (75%)Downloading (80%)Downloading (90%)Downloading (95%)Downloading (100%)
Step #3: guzzlehttp/guzzle suggests installing psr/log (Required for using the Log middleware)
Step #3: Writing lock file
Step #3: Generating autoload files
Step #3: 
Step #3: INFO     composer_require took 1 seconds
Step #3: INFO     starting: tar_runtime_package
Step #3: INFO     tar_runtime_package took 0 seconds
Step #3: INFO     starting: gzip_runtime_tar
Step #3: INFO     gzip_runtime_tar took 0 seconds
Step #3: INFO     building_composer_json_layer took 1 seconds
Step #3: INFO     starting: uploading_composer_json_layer
Step #3: INFO     Layer sha256:7989d61074a9c27ec162f8de7c064e10f2745a3010aeab1e0070e8e747e1481c pushed.
Step #3: INFO     Layer sha256:16d8e7785b602a4dc8da028846c30d334dd8ec296b796e46de04a95ac6183530 pushed.
Step #3: INFO     Finished upload of: gcr.io/ftl-node-test/php-lock-plus-one/cache/lock_test/php-cache:497df4288898bbfe0e827c410a43569d4193f818bd0ffe68b991d7a9139a8a59
Step #3: INFO     uploading_composer_json_layer took 2 seconds
Step #3: INFO     Building package layer: guzzlehttp/promises v1.3.1
Step #3: INFO     starting: checking_cached_composer_json_layer
Step #3: DEBUG    Checking cache for cache_key 0896b92f3efa1c2cea25bdd022a85e5672bfb543c0cfc49277f345591d793b00
Step #3: INFO     No cached base image found for entry: gcr.io/ftl-node-test/php-lock-plus-one/cache/lock_test/php-cache:0896b92f3efa1c2cea25bdd022a85e5672bfb543c0cfc49277f345591d793b00.
Step #3: INFO     Cache miss on local cache for gcr.io/ftl-node-test/php-lock-plus-one/cache/lock_test/php-cache:0896b92f3efa1c2cea25bdd022a85e5672bfb543c0cfc49277f345591d793b00
Step #3: INFO     No cached dependency layer for 0896b92f3efa1c2cea25bdd022a85e5672bfb543c0cfc49277f345591d793b00
Step #3: INFO     [CACHE][MISS] v1:PHP:guzzlehttp/promises:v1.3.1->0896b92f3efa1c2cea25bdd022a85e5672bfb543c0cfc49277f345591d793b00
Step #3: INFO     checking_cached_composer_json_layer took 0 seconds
Step #3: INFO     starting: building_composer_json_layer
Step #3: INFO     starting: rm_vendor_dir
Step #3: INFO     `rm_vendor_dir` full cmd:
Step #3: rm -rf /tmp/tmpzLyZ1s/srv/vendor
Step #3: INFO     `rm_vendor_dir` stdout:
Step #3: 
Step #3: INFO     rm_vendor_dir took 0 seconds
Step #3: INFO     starting: composer_require
Step #3: INFO     `composer_require` full cmd:
Step #3: composer require guzzlehttp/promises v1.3.1
Step #3: INFO     `composer_require` stdout:
Step #3: 
Step #3: ERROR    `composer_require` had error output:
Step #3: Do not run Composer as root/super user! See https://getcomposer.org/root for details
Step #3: ./composer.json has been created
Step #3: Loading composer repositories with package information
Step #3: Updating dependencies (including require-dev)
Step #3: Package operations: 1 install, 0 updates, 0 removals
Step #3:   - Installing guzzlehttp/promises (v1.3.1): Loading from cache
Step #3: Writing lock file
Step #3: Generating autoload files
Step #3: 
Step #3: INFO     composer_require took 1 seconds
Step #3: INFO     starting: tar_runtime_package
Step #3: INFO     tar_runtime_package took 0 seconds
Step #3: INFO     starting: gzip_runtime_tar
Step #3: INFO     gzip_runtime_tar took 0 seconds
Step #3: INFO     building_composer_json_layer took 1 seconds
Step #3: INFO     starting: uploading_composer_json_layer
Step #3: INFO     Layer sha256:cb9e89131abd9d5910f6380a1ecda3908e85d01dfa3d9cf46ba6433e969aee63 pushed.
Step #3: INFO     Layer sha256:2e21f8d709e01abe890deba20390d7e1cc404cd0bb79c3ca3460c7d33eef198c pushed.
Step #3: INFO     Finished upload of: gcr.io/ftl-node-test/php-lock-plus-one/cache/lock_test/php-cache:0896b92f3efa1c2cea25bdd022a85e5672bfb543c0cfc49277f345591d793b00
Step #3: INFO     uploading_composer_json_layer took 2 seconds
Step #3: INFO     Building package layer: guzzlehttp/psr7 1.4.2
Step #3: INFO     starting: checking_cached_composer_json_layer
Step #3: DEBUG    Checking cache for cache_key 83867030626e74ef0bf3162f3a771c8f3d5cec4beb51c2422a1b615d3df44d07
Step #3: INFO     No cached base image found for entry: gcr.io/ftl-node-test/php-lock-plus-one/cache/lock_test/php-cache:83867030626e74ef0bf3162f3a771c8f3d5cec4beb51c2422a1b615d3df44d07.
Step #3: INFO     Cache miss on local cache for gcr.io/ftl-node-test/php-lock-plus-one/cache/lock_test/php-cache:83867030626e74ef0bf3162f3a771c8f3d5cec4beb51c2422a1b615d3df44d07
Step #3: INFO     No cached dependency layer for 83867030626e74ef0bf3162f3a771c8f3d5cec4beb51c2422a1b615d3df44d07
Step #3: INFO     [CACHE][MISS] v1:PHP:guzzlehttp/psr7:1.4.2->83867030626e74ef0bf3162f3a771c8f3d5cec4beb51c2422a1b615d3df44d07
Step #3: INFO     checking_cached_composer_json_layer took 0 seconds
Step #3: INFO     starting: building_composer_json_layer
Step #3: INFO     starting: rm_vendor_dir
Step #3: INFO     `rm_vendor_dir` full cmd:
Step #3: rm -rf /tmp/tmpqwOiTO/srv/vendor
Step #3: INFO     `rm_vendor_dir` stdout:
Step #3: 
Step #3: INFO     rm_vendor_dir took 0 seconds
Step #3: INFO     starting: composer_require
Step #3: INFO     `composer_require` full cmd:
Step #3: composer require guzzlehttp/psr7 1.4.2
Step #3: INFO     `composer_require` stdout:
Step #3: 
Step #3: ERROR    `composer_require` had error output:
Step #3: Do not run Composer as root/super user! See https://getcomposer.org/root for details
Step #3: ./composer.json has been created
Step #3: Loading composer repositories with package information
Step #3: Updating dependencies (including require-dev)
Step #3: Package operations: 2 installs, 0 updates, 0 removals
Step #3:   - Installing psr/http-message (1.0.1): Loading from cache
Step #3:   - Installing guzzlehttp/psr7 (1.4.2): Loading from cache
Step #3: Writing lock file
Step #3: Generating autoload files
Step #3: 
Step #3: INFO     composer_require took 1 seconds
Step #3: INFO     starting: tar_runtime_package
Step #3: INFO     tar_runtime_package took 0 seconds
Step #3: INFO     starting: gzip_runtime_tar
Step #3: INFO     gzip_runtime_tar took 0 seconds
Step #3: INFO     building_composer_json_layer took 1 seconds
Step #3: INFO     starting: uploading_composer_json_layer
Step #3: INFO     Layer sha256:e3d693cf52e90d033cc4842fa0a1c6c36b587cf61f3877a96ca7d98e02cceba9 pushed.
Step #3: INFO     Layer sha256:d83c0b8d2df3a0c6e8b3e530dc6589812bcb275efe9fd892aac51e217162ab5a pushed.
Step #3: INFO     Finished upload of: gcr.io/ftl-node-test/php-lock-plus-one/cache/lock_test/php-cache:83867030626e74ef0bf3162f3a771c8f3d5cec4beb51c2422a1b615d3df44d07
Step #3: INFO     uploading_composer_json_layer took 2 seconds
Step #3: INFO     Building package layer: monolog/monolog 1.23.0
Step #3: INFO     starting: checking_cached_composer_json_layer
Step #3: DEBUG    Checking cache for cache_key f94e75ce235782584221befe6d61c0c724e5521ab5db43a32758e37639ed4781
Step #3: INFO     No cached base image found for entry: gcr.io/ftl-node-test/php-lock-plus-one/cache/lock_test/php-cache:f94e75ce235782584221befe6d61c0c724e5521ab5db43a32758e37639ed4781.
Step #3: INFO     Cache miss on local cache for gcr.io/ftl-node-test/php-lock-plus-one/cache/lock_test/php-cache:f94e75ce235782584221befe6d61c0c724e5521ab5db43a32758e37639ed4781
Step #3: INFO     No cached dependency layer for f94e75ce235782584221befe6d61c0c724e5521ab5db43a32758e37639ed4781
Step #3: INFO     [CACHE][MISS] v1:PHP:monolog/monolog:1.23.0->f94e75ce235782584221befe6d61c0c724e5521ab5db43a32758e37639ed4781
Step #3: INFO     checking_cached_composer_json_layer took 0 seconds
Step #3: INFO     starting: building_composer_json_layer
Step #3: INFO     starting: rm_vendor_dir
Step #3: INFO     `rm_vendor_dir` full cmd:
Step #3: rm -rf /tmp/tmpW14cvq/srv/vendor
Step #3: INFO     `rm_vendor_dir` stdout:
Step #3: 
Step #3: INFO     rm_vendor_dir took 0 seconds
Step #3: INFO     starting: composer_require
Step #3: INFO     `composer_require` full cmd:
Step #3: composer require monolog/monolog 1.23.0
Step #3: INFO     `composer_require` stdout:
Step #3: 
Step #3: ERROR    `composer_require` had error output:
Step #3: Do not run Composer as root/super user! See https://getcomposer.org/root for details
Step #3: ./composer.json has been created
Step #3: Loading composer repositories with package information
Step #3: Updating dependencies (including require-dev)
Step #3: Package operations: 2 installs, 0 updates, 0 removals
Step #3:   - Installing psr/log (1.0.2): Loading from cache
Step #3:   - Installing monolog/monolog (1.23.0): Loading from cache
Step #3: monolog/monolog suggests installing aws/aws-sdk-php (Allow sending log messages to AWS services like DynamoDB)
Step #3: monolog/monolog suggests installing doctrine/couchdb (Allow sending log messages to a CouchDB server)
Step #3: monolog/monolog suggests installing ext-amqp (Allow sending log messages to an AMQP server (1.0+ required))
Step #3: monolog/monolog suggests installing ext-mongo (Allow sending log messages to a MongoDB server)
Step #3: monolog/monolog suggests installing graylog2/gelf-php (Allow sending log messages to a GrayLog2 server)
Step #3: monolog/monolog suggests installing mongodb/mongodb (Allow sending log messages to a MongoDB server via PHP Driver)
Step #3: monolog/monolog suggests installing php-amqplib/php-amqplib (Allow sending log messages to an AMQP server using php-amqplib)
Step #3: monolog/monolog suggests installing php-console/php-console (Allow sending log messages to Google Chrome)
Step #3: monolog/monolog suggests installing rollbar/rollbar (Allow sending log messages to Rollbar)
Step #3: monolog/monolog suggests installing ruflin/elastica (Allow sending log messages to an Elastic Search server)
Step #3: monolog/monolog suggests installing sentry/sentry (Allow sending log messages to a Sentry server)
Step #3: Writing lock file
Step #3: Generating autoload files
Step #3: 
Step #3: INFO     composer_require took 1 seconds
Step #3: INFO     starting: tar_runtime_package
Step #3: INFO     tar_runtime_package took 0 seconds
Step #3: INFO     starting: gzip_runtime_tar
Step #3: INFO     gzip_runtime_tar took 0 seconds
Step #3: INFO     building_composer_json_layer took 1 seconds
Step #3: INFO     starting: uploading_composer_json_layer
Step #3: INFO     Layer sha256:d4eb961bdfa62c0187b36e3632a25b5b400f60543ad3841e5aee98e7451502e7 pushed.
Step #3: INFO     Layer sha256:bf6d1a8b7a4785aa34375fb38e4fbeac85c5c4282debcfabe76e3ad09abe24d4 pushed.
Step #3: INFO     Finished upload of: gcr.io/ftl-node-test/php-lock-plus-one/cache/lock_test/php-cache:f94e75ce235782584221befe6d61c0c724e5521ab5db43a32758e37639ed4781
Step #3: INFO     uploading_composer_json_layer took 2 seconds
Step #3: INFO     Building package layer: psr/cache 1.0.1
Step #3: INFO     starting: checking_cached_composer_json_layer
Step #3: DEBUG    Checking cache for cache_key 1653f8112af030010a8d1d21783892dc6ef8b66b0b5d858c5a18aaefe6a52f43
Step #3: INFO     No cached base image found for entry: gcr.io/ftl-node-test/php-lock-plus-one/cache/lock_test/php-cache:1653f8112af030010a8d1d21783892dc6ef8b66b0b5d858c5a18aaefe6a52f43.
Step #3: INFO     Cache miss on local cache for gcr.io/ftl-node-test/php-lock-plus-one/cache/lock_test/php-cache:1653f8112af030010a8d1d21783892dc6ef8b66b0b5d858c5a18aaefe6a52f43
Step #3: INFO     No cached dependency layer for 1653f8112af030010a8d1d21783892dc6ef8b66b0b5d858c5a18aaefe6a52f43
Step #3: INFO     [CACHE][MISS] v1:PHP:psr/cache:1.0.1->1653f8112af030010a8d1d21783892dc6ef8b66b0b5d858c5a18aaefe6a52f43
Step #3: INFO     checking_cached_composer_json_layer took 0 seconds
Step #3: INFO     starting: building_composer_json_layer
Step #3: INFO     starting: rm_vendor_dir
Step #3: INFO     `rm_vendor_dir` full cmd:
Step #3: rm -rf /tmp/tmpxCaMvW/srv/vendor
Step #3: INFO     `rm_vendor_dir` stdout:
Step #3: 
Step #3: INFO     rm_vendor_dir took 0 seconds
Step #3: INFO     starting: composer_require
Step #3: INFO     `composer_require` full cmd:
Step #3: composer require psr/cache 1.0.1
Step #3: INFO     `composer_require` stdout:
Step #3: 
Step #3: ERROR    `composer_require` had error output:
Step #3: Do not run Composer as root/super user! See https://getcomposer.org/root for details
Step #3: ./composer.json has been created
Step #3: Loading composer repositories with package information
Step #3: Updating dependencies (including require-dev)
Step #3: Package operations: 1 install, 0 updates, 0 removals
Step #3:   - Installing psr/cache (1.0.1): Loading from cache
Step #3: Writing lock file
Step #3: Generating autoload files
Step #3: 
Step #3: INFO     composer_require took 1 seconds
Step #3: INFO     starting: tar_runtime_package
Step #3: INFO     tar_runtime_package took 0 seconds
Step #3: INFO     starting: gzip_runtime_tar
Step #3: INFO     gzip_runtime_tar took 0 seconds
Step #3: INFO     building_composer_json_layer took 1 seconds
Step #3: INFO     starting: uploading_composer_json_layer
Step #3: INFO     Layer sha256:65543c87599483068de3fa1bb7b3f4509ac7fdcfb55395cc635adf4e9988af21 pushed.
Step #3: INFO     Layer sha256:e4fe7d1f832b01e1344d01549c24157b58704aa645b6b05ba412fe3872839643 pushed.
Step #3: INFO     Finished upload of: gcr.io/ftl-node-test/php-lock-plus-one/cache/lock_test/php-cache:1653f8112af030010a8d1d21783892dc6ef8b66b0b5d858c5a18aaefe6a52f43
Step #3: INFO     uploading_composer_json_layer took 2 seconds
Step #3: INFO     Building package layer: psr/http-message 1.0.1
Step #3: INFO     starting: checking_cached_composer_json_layer
Step #3: DEBUG    Checking cache for cache_key 969637f1be792cc7bc183fd0e1820ffd5cc573b1b0c95ea576e604a1814bc563
Step #3: INFO     No cached base image found for entry: gcr.io/ftl-node-test/php-lock-plus-one/cache/lock_test/php-cache:969637f1be792cc7bc183fd0e1820ffd5cc573b1b0c95ea576e604a1814bc563.
Step #3: INFO     Cache miss on local cache for gcr.io/ftl-node-test/php-lock-plus-one/cache/lock_test/php-cache:969637f1be792cc7bc183fd0e1820ffd5cc573b1b0c95ea576e604a1814bc563
Step #3: INFO     No cached dependency layer for 969637f1be792cc7bc183fd0e1820ffd5cc573b1b0c95ea576e604a1814bc563
Step #3: INFO     [CACHE][MISS] v1:PHP:psr/http-message:1.0.1->969637f1be792cc7bc183fd0e1820ffd5cc573b1b0c95ea576e604a1814bc563
Step #3: INFO     checking_cached_composer_json_layer took 0 seconds
Step #3: INFO     starting: building_composer_json_layer
Step #3: INFO     starting: rm_vendor_dir
Step #3: INFO     `rm_vendor_dir` full cmd:
Step #3: rm -rf /tmp/tmptNgwSt/srv/vendor
Step #3: INFO     `rm_vendor_dir` stdout:
Step #3: 
Step #3: INFO     rm_vendor_dir took 0 seconds
Step #3: INFO     starting: composer_require
Step #3: INFO     `composer_require` full cmd:
Step #3: composer require psr/http-message 1.0.1
Step #3: INFO     `composer_require` stdout:
Step #3: 
Step #3: ERROR    `composer_require` had error output:
Step #3: Do not run Composer as root/super user! See https://getcomposer.org/root for details
Step #3: ./composer.json has been created
Step #3: Loading composer repositories with package information
Step #3: Updating dependencies (including require-dev)
Step #3: Package operations: 1 install, 0 updates, 0 removals
Step #3:   - Installing psr/http-message (1.0.1): Loading from cache
Step #3: Writing lock file
Step #3: Generating autoload files
Step #3: 
Step #3: INFO     composer_require took 1 seconds
Step #3: INFO     starting: tar_runtime_package
Step #3: INFO     tar_runtime_package took 0 seconds
Step #3: INFO     starting: gzip_runtime_tar
Step #3: INFO     gzip_runtime_tar took 0 seconds
Step #3: INFO     building_composer_json_layer took 1 seconds
Step #3: INFO     starting: uploading_composer_json_layer
Step #3: INFO     Layer sha256:fa2a155849c1dc19cc93b553691806968b3ce53c88e4bc3806ae33b37af91b62 pushed.
Step #3: INFO     Layer sha256:b8715dac54955d267e9f94ab2847f5305de80a8e0063be083f9481dba0213570 pushed.
Step #3: INFO     Finished upload of: gcr.io/ftl-node-test/php-lock-plus-one/cache/lock_test/php-cache:969637f1be792cc7bc183fd0e1820ffd5cc573b1b0c95ea576e604a1814bc563
Step #3: INFO     uploading_composer_json_layer took 2 seconds
Step #3: INFO     Building package layer: psr/log 1.0.2
Step #3: INFO     starting: checking_cached_composer_json_layer
Step #3: DEBUG    Checking cache for cache_key 82b6c5e259909a48db6862055d8936a9fb36ec945c61e5172db5385ea3434e79
Step #3: INFO     No cached base image found for entry: gcr.io/ftl-node-test/php-lock-plus-one/cache/lock_test/php-cache:82b6c5e259909a48db6862055d8936a9fb36ec945c61e5172db5385ea3434e79.
Step #3: INFO     Cache miss on local cache for gcr.io/ftl-node-test/php-lock-plus-one/cache/lock_test/php-cache:82b6c5e259909a48db6862055d8936a9fb36ec945c61e5172db5385ea3434e79
Step #3: INFO     No cached dependency layer for 82b6c5e259909a48db6862055d8936a9fb36ec945c61e5172db5385ea3434e79
Step #3: INFO     [CACHE][MISS] v1:PHP:psr/log:1.0.2->82b6c5e259909a48db6862055d8936a9fb36ec945c61e5172db5385ea3434e79
Step #3: INFO     checking_cached_composer_json_layer took 0 seconds
Step #3: INFO     starting: building_composer_json_layer
Step #3: INFO     starting: rm_vendor_dir
Step #3: INFO     `rm_vendor_dir` full cmd:
Step #3: rm -rf /tmp/tmp8nemp4/srv/vendor
Step #3: INFO     `rm_vendor_dir` stdout:
Step #3: 
Step #3: INFO     rm_vendor_dir took 0 seconds
Step #3: INFO     starting: composer_require
Step #3: INFO     `composer_require` full cmd:
Step #3: composer require psr/log 1.0.2
Step #3: INFO     `composer_require` stdout:
Step #3: 
Step #3: ERROR    `composer_require` had error output:
Step #3: Do not run Composer as root/super user! See https://getcomposer.org/root for details
Step #3: ./composer.json has been created
Step #3: Loading composer repositories with package information
Step #3: Updating dependencies (including require-dev)
Step #3: Package operations: 1 install, 0 updates, 0 removals
Step #3:   - Installing psr/log (1.0.2): Loading from cache
Step #3: Writing lock file
Step #3: Generating autoload files
Step #3: 
Step #3: INFO     composer_require took 1 seconds
Step #3: INFO     starting: tar_runtime_package
Step #3: INFO     tar_runtime_package took 0 seconds
Step #3: INFO     starting: gzip_runtime_tar
Step #3: INFO     gzip_runtime_tar took 0 seconds
Step #3: INFO     building_composer_json_layer took 1 seconds
Step #3: INFO     starting: uploading_composer_json_layer
Step #3: INFO     Layer sha256:bb6e5bc59cdb7fe1e7fad64e8818f4d3c7ae4d7eb89e30db526c57fe5800f914 pushed.
Step #3: INFO     Layer sha256:13a8f2802d5c92254b4175d76475bc95a57bb69e5cd789a2b2ba664c498cbf9a pushed.
Step #3: INFO     Finished upload of: gcr.io/ftl-node-test/php-lock-plus-one/cache/lock_test/php-cache:82b6c5e259909a48db6862055d8936a9fb36ec945c61e5172db5385ea3434e79
Step #3: INFO     uploading_composer_json_layer took 2 seconds
Step #3: INFO     Building package layer: rize/uri-template 0.3.2
Step #3: INFO     starting: checking_cached_composer_json_layer
Step #3: DEBUG    Checking cache for cache_key a40ec1f6cb45b434d0cc375244ce52e7caf952e888cd63c5a8f4ae8f4802dd7a
Step #3: INFO     No cached base image found for entry: gcr.io/ftl-node-test/php-lock-plus-one/cache/lock_test/php-cache:a40ec1f6cb45b434d0cc375244ce52e7caf952e888cd63c5a8f4ae8f4802dd7a.
Step #3: INFO     Cache miss on local cache for gcr.io/ftl-node-test/php-lock-plus-one/cache/lock_test/php-cache:a40ec1f6cb45b434d0cc375244ce52e7caf952e888cd63c5a8f4ae8f4802dd7a
Step #3: INFO     No cached dependency layer for a40ec1f6cb45b434d0cc375244ce52e7caf952e888cd63c5a8f4ae8f4802dd7a
Step #3: INFO     [CACHE][MISS] v1:PHP:rize/uri-template:0.3.2->a40ec1f6cb45b434d0cc375244ce52e7caf952e888cd63c5a8f4ae8f4802dd7a
Step #3: INFO     checking_cached_composer_json_layer took 0 seconds
Step #3: INFO     starting: building_composer_json_layer
Step #3: INFO     starting: rm_vendor_dir
Step #3: INFO     `rm_vendor_dir` full cmd:
Step #3: rm -rf /tmp/tmpZ1k6IT/srv/vendor
Step #3: INFO     `rm_vendor_dir` stdout:
Step #3: 
Step #3: INFO     rm_vendor_dir took 0 seconds
Step #3: INFO     starting: composer_require
Step #3: INFO     `composer_require` full cmd:
Step #3: composer require rize/uri-template 0.3.2
Step #3: INFO     `composer_require` stdout:
Step #3: 
Step #3: ERROR    `composer_require` had error output:
Step #3: Do not run Composer as root/super user! See https://getcomposer.org/root for details
Step #3: ./composer.json has been created
Step #3: Loading composer repositories with package information
Step #3: Updating dependencies (including require-dev)
Step #3: Package operations: 1 install, 0 updates, 0 removals
Step #3:   - Installing rize/uri-template (0.3.2): Loading from cache
Step #3: Writing lock file
Step #3: Generating autoload files
Step #3: 
Step #3: INFO     composer_require took 1 seconds
Step #3: INFO     starting: tar_runtime_package
Step #3: INFO     tar_runtime_package took 0 seconds
Step #3: INFO     starting: gzip_runtime_tar
Step #3: INFO     gzip_runtime_tar took 0 seconds
Step #3: INFO     building_composer_json_layer took 1 seconds
Step #3: INFO     starting: uploading_composer_json_layer
Step #3: INFO     Layer sha256:0dd46ca494b972d6e1a6d78b4988b23257230aa35d6d008a36e04c6684cacdd9 pushed.
Step #3: INFO     Layer sha256:43ae8561f6dcd7d47cfa47164070c73881f2fc2399b98cc0af3d6e5c9ae805bf pushed.
Step #3: INFO     Finished upload of: gcr.io/ftl-node-test/php-lock-plus-one/cache/lock_test/php-cache:a40ec1f6cb45b434d0cc375244ce52e7caf952e888cd63c5a8f4ae8f4802dd7a
Step #3: INFO     uploading_composer_json_layer took 2 seconds
Step #3: INFO     starting: Building app layer
Step #3: INFO     Starting to generate app layer                 tarfile from context...
Step #3: INFO     Finished generating app layer tarfile from context.
Step #3: INFO     Starting to gzip app layer tarfile...
Step #3: INFO     Finished gzipping tarfile.
Step #3: INFO     Building app layer took 0 seconds
Step #3: INFO     starting: Stitching layers into final image
Step #3: INFO     Stitching layers into final image took 0 seconds
Step #3: INFO     starting: Uploading final image
Step #3: INFO     starting: Pushing image to Docker registry
Step #3: INFO     Pushing final image...
Step #3: INFO     Layer sha256:43ae8561f6dcd7d47cfa47164070c73881f2fc2399b98cc0af3d6e5c9ae805bf exists, skipping
Step #3: INFO     Layer sha256:d3cd4f8c5e840e642531aeba3f0d3b53e3a9e24b953b0ce55f04d580ad1da16b exists, skipping
Step #3: INFO     Layer sha256:e3d693cf52e90d033cc4842fa0a1c6c36b587cf61f3877a96ca7d98e02cceba9 exists, skipping
Step #3: INFO     Layer sha256:e0baa5089505b8062f5a638d9b43cbd4b05ed7a84f4ba403e56821d7100915c8 exists, skipping
Step #3: INFO     Layer sha256:65543c87599483068de3fa1bb7b3f4509ac7fdcfb55395cc635adf4e9988af21 exists, skipping
Step #3: INFO     Layer sha256:2825b6a93854e0daef7519a19d3c9d00695e0b9f226f21268cfba63a84f4472c exists, skipping
Step #3: INFO     Layer sha256:39b468012310a823fc8bfc16ebe0de45d1f6c6641b7a2d30fa273c737d64ab97 exists, skipping
Step #3: INFO     Layer sha256:2e21f8d709e01abe890deba20390d7e1cc404cd0bb79c3ca3460c7d33eef198c exists, skipping
Step #3: INFO     Layer sha256:83f618e89ac48f9be9b2bb37eb633375f554af2a27ea476699de33c3751b8b85 exists, skipping
Step #3: INFO     Layer sha256:62c17e5523414c68ff92994f62a1705c25747eaa11da737420b390777fe6ff5d exists, skipping
Step #3: INFO     Layer sha256:e714a0a8d22f8d52c3876f37f486f68fadf7d1c0d7d43d01fac4956e0edd5d6d exists, skipping
Step #3: INFO     Layer sha256:d4eb961bdfa62c0187b36e3632a25b5b400f60543ad3841e5aee98e7451502e7 exists, skipping
Step #3: INFO     Layer sha256:04ee99c6d95bc989e8a9472ea74cc79bf9a7d77e3aff7f5339c4cb9beb2222a5 exists, skipping
Step #3: INFO     Layer sha256:f3d2e146ba353d998161ed20858ec877c93fbde2186ce700f1fff9aa25907ba3 exists, skipping
Step #3: INFO     Layer sha256:9d69b688a75686b12e0ad0aa7d6a19fdbc376219b4dcfcdd9331917e83b387f6 exists, skipping
Step #3: INFO     Layer sha256:5aca4de4c0cb2b97dc470646fdc6899fb548265e494401bfaa370a73216fbaa4 exists, skipping
Step #3: INFO     Layer sha256:7989d61074a9c27ec162f8de7c064e10f2745a3010aeab1e0070e8e747e1481c exists, skipping
Step #3: INFO     Layer sha256:0976172eade04287fb825d779b5d189d4fa37a4055d349d55a333e9b3da0d178 exists, skipping
Step #3: INFO     Layer sha256:993d5c953a325a0dd8152dfbefa3b483c103df9208b5e492f75b33294c37ae9e exists, skipping
Step #3: INFO     Layer sha256:3c2cba919283a210665e480bcbf943eaaf4ed87a83f02e81bb286b8bdead0e75 exists, skipping
Step #3: INFO     Layer sha256:011bed8d7f0545a4c0d92e307e697efab6b00ed9b79692c3af222d5f5e831ded exists, skipping
Step #3: INFO     Layer sha256:4011ec0a29ae1c574b55c2005b2a5eac98f2fc8cd062c1fbaaf038bea72915ab exists, skipping
Step #3: INFO     Layer sha256:b8715dac54955d267e9f94ab2847f5305de80a8e0063be083f9481dba0213570 exists, skipping
Step #3: INFO     Layer sha256:9a16d7af07fced5fcadc258fa6c65734ecc21fd2e8ec666eace8f12dcb834bf7 exists, skipping
Step #3: INFO     Layer sha256:fc67a85fa0e7d7600ef127e450d291bf3eb88b3a9f17f309c807f6edfd89b9a4 exists, skipping
Step #3: INFO     Layer sha256:1c4e81456a02b943007a60a1b62257f41b6762e07a7e8dcdd08c7cd56ce1f670 exists, skipping
Step #3: INFO     Layer sha256:8c35819f6775677abd35180b349d59b3f2c7948bbf8e66e96cf54d579264da8e exists, skipping
Step #3: INFO     Layer sha256:bb6e5bc59cdb7fe1e7fad64e8818f4d3c7ae4d7eb89e30db526c57fe5800f914 exists, skipping
Step #3: INFO     Layer sha256:54b0a4919dbd501ad2a22a2c5a806e3ce9f00aa5285a38af94128f5af2c3bf09 pushed.
Step #3: INFO     Layer sha256:8ec0fd3f31a161c696e9aee1738b18e173eb5a74f1022d67892bf5cf991794b8 pushed.
Step #3: INFO     Finished upload of: gcr.io/ftl-node-test/php-lock-plus-one/cache/lock_test:original
Step #3: INFO     Pushing image to Docker registry took 2 seconds
Step #3: INFO     Uploading final image took 2 seconds
Step #3: INFO     build process for FTL image took 57 seconds
Step #3: INFO     full build took 57 seconds
Step #3: 
Step #3: 2018-04-24,00:44:00.750 INFO     Loading Docker credentials for repository 'gcr.io/ftl-node-test/php-lock-plus-one/cache/lock_test:original'
Step #3: 2018-04-24,00:44:00.849 INFO     label: reupload
Step #3: 2018-04-24,00:44:00.850 INFO     dir: /workspace/ftl/php/testdata/lock_test_plus_one
Step #3: 2018-04-24,00:44:26.850 INFO     output of build reupload: INFO     FTL version php-v0.3.0
Step #3: INFO     Beginning FTL build for php
Step #3: INFO     FTL arg passed: exposed_ports None
Step #3: INFO     FTL arg passed: cache_repository None
Step #3: INFO     FTL arg passed: tar_base_image_path None
Step #3: INFO     FTL arg passed: name gcr.io/ftl-node-test/php-lock-plus-one/cache/lock_test:reupload
Step #3: INFO     FTL arg passed: log_path None
Step #3: INFO     FTL arg passed: global_cache False
Step #3: INFO     FTL arg passed: cache True
Step #3: INFO     FTL arg passed: upload True
Step #3: INFO     FTL arg passed: base gcr.io/gae-runtimes/php72_app_builder:argo_current
Step #3: INFO     FTL arg passed: output_path None
Step #3: INFO     FTL arg passed: directory /workspace/ftl/php/testdata/lock_test_plus_one
Step #3: INFO     FTL arg passed: entrypoint None
Step #3: INFO     FTL arg passed: destination_path srv
Step #3: INFO     FTL arg passed: verbosity NOTSET
Step #3: INFO     starting: full build
Step #3: INFO     starting: builder initialization
Step #3: INFO     Loading Docker credentials for repository 'gcr.io/gae-runtimes/php72_app_builder:argo_current'
Step #3: INFO     Loading Docker credentials for repository 'gcr.io/ftl-node-test/php-lock-plus-one/cache/lock_test:reupload'
Step #3: INFO     builder initialization took 0 seconds
Step #3: INFO     starting: build process for FTL image
Step #3: INFO     Building package layer: cebe/indent 1.0.2
Step #3: INFO     starting: checking_cached_composer_json_layer
Step #3: DEBUG    Checking cache for cache_key 7b31fd54b716b9840c9919e6c067f43a08ce52f4500d2e6889ee630beb092268
Step #3: INFO     No cached base image found for entry: gcr.io/ftl-node-test/php-lock-plus-one/cache/lock_test/php-cache:7b31fd54b716b9840c9919e6c067f43a08ce52f4500d2e6889ee630beb092268.
Step #3: INFO     Cache miss on local cache for gcr.io/ftl-node-test/php-lock-plus-one/cache/lock_test/php-cache:7b31fd54b716b9840c9919e6c067f43a08ce52f4500d2e6889ee630beb092268
Step #3: INFO     No cached dependency layer for 7b31fd54b716b9840c9919e6c067f43a08ce52f4500d2e6889ee630beb092268
Step #3: INFO     [CACHE][MISS] v1:PHP:cebe/indent:1.0.2->7b31fd54b716b9840c9919e6c067f43a08ce52f4500d2e6889ee630beb092268
Step #3: INFO     checking_cached_composer_json_layer took 0 seconds
Step #3: INFO     starting: building_composer_json_layer
Step #3: INFO     starting: rm_vendor_dir
Step #3: INFO     `rm_vendor_dir` full cmd:
Step #3: rm -rf /tmp/tmpuah5Ds/srv/vendor
Step #3: INFO     `rm_vendor_dir` stdout:
Step #3: 
Step #3: INFO     rm_vendor_dir took 0 seconds
Step #3: INFO     starting: composer_require
Step #3: INFO     `composer_require` full cmd:
Step #3: composer require cebe/indent 1.0.2
Step #3: INFO     `composer_require` stdout:
Step #3: 
Step #3: ERROR    `composer_require` had error output:
Step #3: Do not run Composer as root/super user! See https://getcomposer.org/root for details
Step #3: ./composer.json has been created
Step #3: Loading composer repositories with package information
Step #3: Updating dependencies (including require-dev)
Step #3: Package operations: 1 install, 0 updates, 0 removals
Step #3:   - Installing cebe/indent (1.0.2): Downloading (connecting...)Downloading (100%)         
Step #3: Writing lock file
Step #3: Generating autoload files
Step #3: 
Step #3: INFO     composer_require took 2 seconds
Step #3: INFO     starting: tar_runtime_package
Step #3: INFO     tar_runtime_package took 0 seconds
Step #3: INFO     starting: gzip_runtime_tar
Step #3: INFO     gzip_runtime_tar took 0 seconds
Step #3: INFO     building_composer_json_layer took 2 seconds
Step #3: INFO     starting: uploading_composer_json_layer
Step #3: INFO     Layer sha256:8d4ed74432bd03673c9a43e0fd5c1f9736fb05b3f2e2e5eb2d5bfd36cdf262ff pushed.
Step #3: INFO     Layer sha256:315965435e9be78e0f77eeb5fdeec7f173db747492b4c18a3ce1b285a2a9a677 pushed.
Step #3: INFO     Finished upload of: gcr.io/ftl-node-test/php-lock-plus-one/cache/lock_test/php-cache:7b31fd54b716b9840c9919e6c067f43a08ce52f4500d2e6889ee630beb092268
Step #3: INFO     uploading_composer_json_layer took 2 seconds
Step #3: INFO     Building package layer: firebase/php-jwt v5.0.0
Step #3: INFO     starting: checking_cached_composer_json_layer
Step #3: DEBUG    Checking cache for cache_key 9d0f30366d373ff3e14cc2d73a6000f9d2229925d66ee31d36c5d504608e872b
Step #3: INFO     Found cached base image: gcr.io/ftl-node-test/php-lock-plus-one/cache/lock_test/php-cache:9d0f30366d373ff3e14cc2d73a6000f9d2229925d66ee31d36c5d504608e872b.
Step #3: INFO     Found cached dependency layer for 9d0f30366d373ff3e14cc2d73a6000f9d2229925d66ee31d36c5d504608e872b
Step #3: INFO     {"architecture": "amd64", "author": "Bazel", "config": {}, "created": "2018-04-24T00:00:00Z", "history": [{"author": "Bazel", "created": "1970-01-01T00:00:00Z", "created_by": "bazel build ..."}], "os": "linux", "rootfs": {"diff_ids": ["sha256:907a22ec8c2eb2b8ab882459377cd42d643cc6fc3e42aec7c80e31783fd6b115"]}}
Step #3: INFO     [CACHE][HIT] v1:PHP:firebase/php-jwt:v5.0.0->9d0f30366d373ff3e14cc2d73a6000f9d2229925d66ee31d36c5d504608e872b
Step #3: INFO     checking_cached_composer_json_layer took 0 seconds
Step #3: INFO     Building package layer: google/auth v1.3.0
Step #3: INFO     starting: checking_cached_composer_json_layer
Step #3: DEBUG    Checking cache for cache_key 50a4cd2435410357722dea218da414aeddeb09df72005d85a63d4ab2daa42278
Step #3: INFO     No cached base image found for entry: gcr.io/ftl-node-test/php-lock-plus-one/cache/lock_test/php-cache:50a4cd2435410357722dea218da414aeddeb09df72005d85a63d4ab2daa42278.
Step #3: INFO     Cache miss on local cache for gcr.io/ftl-node-test/php-lock-plus-one/cache/lock_test/php-cache:50a4cd2435410357722dea218da414aeddeb09df72005d85a63d4ab2daa42278
Step #3: INFO     No cached dependency layer for 50a4cd2435410357722dea218da414aeddeb09df72005d85a63d4ab2daa42278
Step #3: INFO     [CACHE][MISS] v1:PHP:google/auth:v1.3.0->50a4cd2435410357722dea218da414aeddeb09df72005d85a63d4ab2daa42278
Step #3: INFO     checking_cached_composer_json_layer took 0 seconds
Step #3: INFO     starting: building_composer_json_layer
Step #3: INFO     starting: rm_vendor_dir
Step #3: INFO     `rm_vendor_dir` full cmd:
Step #3: rm -rf /tmp/tmpCcbhDi/srv/vendor
Step #3: INFO     `rm_vendor_dir` stdout:
Step #3: 
Step #3: INFO     rm_vendor_dir took 0 seconds
Step #3: INFO     starting: composer_require
Step #3: INFO     `composer_require` full cmd:
Step #3: composer require google/auth v1.3.0
Step #3: INFO     `composer_require` stdout:
Step #3: 
Step #3: ERROR    `composer_require` had error output:
Step #3: Do not run Composer as root/super user! See https://getcomposer.org/root for details
Step #3: ./composer.json has been created
Step #3: Loading composer repositories with package information
Step #3: Updating dependencies (including require-dev)
Step #3: Package operations: 7 installs, 0 updates, 0 removals
Step #3:   - Installing psr/cache (1.0.1): Loading from cache
Step #3:   - Installing psr/http-message (1.0.1): Loading from cache
Step #3:   - Installing guzzlehttp/psr7 (1.4.2): Loading from cache
Step #3:   - Installing guzzlehttp/promises (v1.3.1): Loading from cache
Step #3:   - Installing guzzlehttp/guzzle (6.3.3): Loading from cache
Step #3:   - Installing firebase/php-jwt (v5.0.0): Loading from cache
Step #3:   - Installing google/auth (v1.3.0): Loading from cache
Step #3: guzzlehttp/guzzle suggests installing psr/log (Required for using the Log middleware)
Step #3: Writing lock file
Step #3: Generating autoload files
Step #3: 
Step #3: INFO     composer_require took 2 seconds
Step #3: INFO     starting: tar_runtime_package
Step #3: INFO     tar_runtime_package took 0 seconds
Step #3: INFO     starting: gzip_runtime_tar
Step #3: INFO     gzip_runtime_tar took 0 seconds
Step #3: INFO     building_composer_json_layer took 2 seconds
Step #3: INFO     starting: uploading_composer_json_layer
Step #3: INFO     Layer sha256:e4bb5c0389b44a3ffc253a4b9367b5186430503d236bf68cd256e69c146a2065 pushed.
Step #3: INFO     Layer sha256:c8a4bc02e295e9c71272056b5f700d1f1ecf6fb9672a2434d16854bce4cd6f97 pushed.
Step #3: INFO     Finished upload of: gcr.io/ftl-node-test/php-lock-plus-one/cache/lock_test/php-cache:50a4cd2435410357722dea218da414aeddeb09df72005d85a63d4ab2daa42278
Step #3: INFO     uploading_composer_json_layer took 2 seconds
Step #3: INFO     Building package layer: google/cloud-core v1.19.2
Step #3: INFO     starting: checking_cached_composer_json_layer
Step #3: DEBUG    Checking cache for cache_key 68374d00bdec9cc4934d6526f36d2ac282ad130eb1c318d37fe276546229a51e
Step #3: INFO     No cached base image found for entry: gcr.io/ftl-node-test/php-lock-plus-one/cache/lock_test/php-cache:68374d00bdec9cc4934d6526f36d2ac282ad130eb1c318d37fe276546229a51e.
Step #3: INFO     Cache miss on local cache for gcr.io/ftl-node-test/php-lock-plus-one/cache/lock_test/php-cache:68374d00bdec9cc4934d6526f36d2ac282ad130eb1c318d37fe276546229a51e
Step #3: INFO     No cached dependency layer for 68374d00bdec9cc4934d6526f36d2ac282ad130eb1c318d37fe276546229a51e
Step #3: INFO     [CACHE][MISS] v1:PHP:google/cloud-core:v1.19.2->68374d00bdec9cc4934d6526f36d2ac282ad130eb1c318d37fe276546229a51e
Step #3: INFO     checking_cached_composer_json_layer took 0 seconds
Step #3: INFO     starting: building_composer_json_layer
Step #3: INFO     starting: rm_vendor_dir
Step #3: INFO     `rm_vendor_dir` full cmd:
Step #3: rm -rf /tmp/tmp1uK3uT/srv/vendor
Step #3: INFO     `rm_vendor_dir` stdout:
Step #3: 
Step #3: INFO     rm_vendor_dir took 0 seconds
Step #3: INFO     starting: composer_require
Step #3: INFO     `composer_require` full cmd:
Step #3: composer require google/cloud-core v1.19.2
Step #3: INFO     `composer_require` stdout:
Step #3: 
Step #3: ERROR    `composer_require` had error output:
Step #3: Do not run Composer as root/super user! See https://getcomposer.org/root for details
Step #3: ./composer.json has been created
Step #3: Loading composer repositories with package information
Step #3: Updating dependencies (including require-dev)
Step #3: Package operations: 11 installs, 0 updates, 0 removals
Step #3:   - Installing psr/http-message (1.0.1): Loading from cache
Step #3:   - Installing psr/log (1.0.2): Loading from cache
Step #3:   - Installing monolog/monolog (1.23.0): Loading from cache
Step #3:   - Installing guzzlehttp/psr7 (1.4.2): Loading from cache
Step #3:   - Installing guzzlehttp/promises (v1.3.1): Loading from cache
Step #3:   - Installing guzzlehttp/guzzle (6.3.3): Loading from cache
Step #3:   - Installing psr/cache (1.0.1): Loading from cache
Step #3:   - Installing firebase/php-jwt (v5.0.0): Loading from cache
Step #3:   - Installing google/auth (v1.3.0): Loading from cache
Step #3:   - Installing rize/uri-template (0.3.2): Loading from cache
Step #3:   - Installing google/cloud-core (v1.19.2): Downloading (connecting...)Downloading (0%)           Downloading (5%)Downloading (10%)Downloading (15%)Downloading (20%)Downloading (25%)Downloading (30%)Downloading (35%)Downloading (40%)Downloading (45%)Downloading (50%)Downloading (55%)Downloading (60%)Downloading (65%)Downloading (70%)Downloading (75%)Downloading (80%)Downloading (85%)Downloading (90%)Downloading (95%)Downloading (100%)
Step #3: monolog/monolog suggests installing aws/aws-sdk-php (Allow sending log messages to AWS services like DynamoDB)
Step #3: monolog/monolog suggests installing doctrine/couchdb (Allow sending log messages to a CouchDB server)
Step #3: monolog/monolog suggests installing ext-amqp (Allow sending log messages to an AMQP server (1.0+ required))
Step #3: monolog/monolog suggests installing ext-mongo (Allow sending log messages to a MongoDB server)
Step #3: monolog/monolog suggests installing graylog2/gelf-php (Allow sending log messages to a GrayLog2 server)
Step #3: monolog/monolog suggests installing mongodb/mongodb (Allow sending log messages to a MongoDB server via PHP Driver)
Step #3: monolog/monolog suggests installing php-amqplib/php-amqplib (Allow sending log messages to an AMQP server using php-amqplib)
Step #3: monolog/monolog suggests installing php-console/php-console (Allow sending log messages to Google Chrome)
Step #3: monolog/monolog suggests installing rollbar/rollbar (Allow sending log messages to Rollbar)
Step #3: monolog/monolog suggests installing ruflin/elastica (Allow sending log messages to an Elastic Search server)
Step #3: monolog/monolog suggests installing sentry/sentry (Allow sending log messages to a Sentry server)
Step #3: google/cloud-core suggests installing opis/closure (May be used to serialize closures to process jobs in the batch daemon. Please require version ^3.)
Step #3: google/cloud-core suggests installing symfony/lock (Required for the Spanner cached based session pool. Please require the following commit: 3.3.x-dev#1ba6ac9)
Step #3: Writing lock file
Step #3: Generating autoload files
Step #3: 
Step #3: INFO     composer_require took 2 seconds
Step #3: INFO     starting: tar_runtime_package
Step #3: INFO     tar_runtime_package took 0 seconds
Step #3: INFO     starting: gzip_runtime_tar
Step #3: INFO     gzip_runtime_tar took 0 seconds
Step #3: INFO     building_composer_json_layer took 2 seconds
Step #3: INFO     starting: uploading_composer_json_layer
Step #3: INFO     Layer sha256:48af117c98e878df48979c4f81f64687afe9ba10f56ac156e0986bb1c0ea41a8 pushed.
Step #3: INFO     Layer sha256:cf21fc801e533853fcd3f16f542788685de9c8f8684296c7b2207d7e4cbddfc0 pushed.
Step #3: INFO     Finished upload of: gcr.io/ftl-node-test/php-lock-plus-one/cache/lock_test/php-cache:68374d00bdec9cc4934d6526f36d2ac282ad130eb1c318d37fe276546229a51e
Step #3: INFO     uploading_composer_json_layer took 2 seconds
Step #3: INFO     Building package layer: guzzlehttp/guzzle 6.3.3
Step #3: INFO     starting: checking_cached_composer_json_layer
Step #3: DEBUG    Checking cache for cache_key 1dbcfe115975e80e607c493343f9939b64fb8400b60310c52a41f50e7a1e607f
Step #3: INFO     No cached base image found for entry: gcr.io/ftl-node-test/php-lock-plus-one/cache/lock_test/php-cache:1dbcfe115975e80e607c493343f9939b64fb8400b60310c52a41f50e7a1e607f.
Step #3: INFO     Cache miss on local cache for gcr.io/ftl-node-test/php-lock-plus-one/cache/lock_test/php-cache:1dbcfe115975e80e607c493343f9939b64fb8400b60310c52a41f50e7a1e607f
Step #3: INFO     No cached dependency layer for 1dbcfe115975e80e607c493343f9939b64fb8400b60310c52a41f50e7a1e607f
Step #3: INFO     [CACHE][MISS] v1:PHP:guzzlehttp/guzzle:6.3.3->1dbcfe115975e80e607c493343f9939b64fb8400b60310c52a41f50e7a1e607f
Step #3: INFO     checking_cached_composer_json_layer took 0 seconds
Step #3: INFO     starting: building_composer_json_layer
Step #3: INFO     starting: rm_vendor_dir
Step #3: INFO     `rm_vendor_dir` full cmd:
Step #3: rm -rf /tmp/tmpGqboLn/srv/vendor
Step #3: INFO     `rm_vendor_dir` stdout:
Step #3: 
Step #3: INFO     rm_vendor_dir took 0 seconds
Step #3: INFO     starting: composer_require
Step #3: INFO     `composer_require` full cmd:
Step #3: composer require guzzlehttp/guzzle 6.3.3
Step #3: INFO     `composer_require` stdout:
Step #3: 
Step #3: ERROR    `composer_require` had error output:
Step #3: Do not run Composer as root/super user! See https://getcomposer.org/root for details
Step #3: ./composer.json has been created
Step #3: Loading composer repositories with package information
Step #3: Updating dependencies (including require-dev)
Step #3: Package operations: 4 installs, 0 updates, 0 removals
Step #3:   - Installing guzzlehttp/promises (v1.3.1): Loading from cache
Step #3:   - Installing psr/http-message (1.0.1): Loading from cache
Step #3:   - Installing guzzlehttp/psr7 (1.4.2): Loading from cache
Step #3:   - Installing guzzlehttp/guzzle (6.3.3): Loading from cache
Step #3: guzzlehttp/guzzle suggests installing psr/log (Required for using the Log middleware)
Step #3: Writing lock file
Step #3: Generating autoload files
Step #3: 
Step #3: INFO     composer_require took 1 seconds
Step #3: INFO     starting: tar_runtime_package
Step #3: INFO     tar_runtime_package took 0 seconds
Step #3: INFO     starting: gzip_runtime_tar
Step #3: INFO     gzip_runtime_tar took 0 seconds
Step #3: INFO     building_composer_json_layer took 1 seconds
Step #3: INFO     starting: uploading_composer_json_layer
Step #3: INFO     Layer sha256:866b9dde7ae0288cca4a3e216465cf8643333cf865a7d893154ecdab621f08f2 pushed.
Step #3: INFO     Layer sha256:801222a850b87dc6bcad54b683372d2de21a6f4886112473c315d8a476309e77 pushed.
Step #3: INFO     Finished upload of: gcr.io/ftl-node-test/php-lock-plus-one/cache/lock_test/php-cache:1dbcfe115975e80e607c493343f9939b64fb8400b60310c52a41f50e7a1e607f
Step #3: INFO     uploading_composer_json_layer took 2 seconds
Step #3: INFO     Building package layer: guzzlehttp/promises v1.3.1
Step #3: INFO     starting: checking_cached_composer_json_layer
Step #3: DEBUG    Checking cache for cache_key 0896b92f3efa1c2cea25bdd022a85e5672bfb543c0cfc49277f345591d793b00
Step #3: INFO     Found cached base image: gcr.io/ftl-node-test/php-lock-plus-one/cache/lock_test/php-cache:0896b92f3efa1c2cea25bdd022a85e5672bfb543c0cfc49277f345591d793b00.
Step #3: INFO     Found cached dependency layer for 0896b92f3efa1c2cea25bdd022a85e5672bfb543c0cfc49277f345591d793b00
Step #3: INFO     {"architecture": "amd64", "author": "Bazel", "config": {}, "created": "2018-04-24T00:00:00Z", "history": [{"author": "Bazel", "created": "1970-01-01T00:00:00Z", "created_by": "bazel build ..."}], "os": "linux", "rootfs": {"diff_ids": ["sha256:ff290b13bf1da33a0900973c0c5707e59e84662fcf5a860be219ca0fca3ba583"]}}
Step #3: INFO     [CACHE][HIT] v1:PHP:guzzlehttp/promises:v1.3.1->0896b92f3efa1c2cea25bdd022a85e5672bfb543c0cfc49277f345591d793b00
Step #3: INFO     checking_cached_composer_json_layer took 0 seconds
Step #3: INFO     Building package layer: guzzlehttp/psr7 1.4.2
Step #3: INFO     starting: checking_cached_composer_json_layer
Step #3: DEBUG    Checking cache for cache_key 83867030626e74ef0bf3162f3a771c8f3d5cec4beb51c2422a1b615d3df44d07
Step #3: INFO     Found cached base image: gcr.io/ftl-node-test/php-lock-plus-one/cache/lock_test/php-cache:83867030626e74ef0bf3162f3a771c8f3d5cec4beb51c2422a1b615d3df44d07.
Step #3: INFO     Found cached dependency layer for 83867030626e74ef0bf3162f3a771c8f3d5cec4beb51c2422a1b615d3df44d07
Step #3: INFO     {"architecture": "amd64", "author": "Bazel", "config": {}, "created": "2018-04-24T00:00:00Z", "history": [{"author": "Bazel", "created": "1970-01-01T00:00:00Z", "created_by": "bazel build ..."}], "os": "linux", "rootfs": {"diff_ids": ["sha256:4bdee602bda0e0b50975529fd3a33eff047bc8f1ef5f960ea00d7b8fc5865d69"]}}
Step #3: INFO     [CACHE][HIT] v1:PHP:guzzlehttp/psr7:1.4.2->83867030626e74ef0bf3162f3a771c8f3d5cec4beb51c2422a1b615d3df44d07
Step #3: INFO     checking_cached_composer_json_layer took 0 seconds
Step #3: INFO     Building package layer: monolog/monolog 1.23.0
Step #3: INFO     starting: checking_cached_composer_json_layer
Step #3: DEBUG    Checking cache for cache_key f94e75ce235782584221befe6d61c0c724e5521ab5db43a32758e37639ed4781
Step #3: INFO     Found cached base image: gcr.io/ftl-node-test/php-lock-plus-one/cache/lock_test/php-cache:f94e75ce235782584221befe6d61c0c724e5521ab5db43a32758e37639ed4781.
Step #3: INFO     Found cached dependency layer for f94e75ce235782584221befe6d61c0c724e5521ab5db43a32758e37639ed4781
Step #3: INFO     {"architecture": "amd64", "author": "Bazel", "config": {}, "created": "2018-04-24T00:00:00Z", "history": [{"author": "Bazel", "created": "1970-01-01T00:00:00Z", "created_by": "bazel build ..."}], "os": "linux", "rootfs": {"diff_ids": ["sha256:f1dd65bd7617d61d3c7877fc5e7be1577a34e408d7f97cac93ea1290a2816e44"]}}
Step #3: INFO     [CACHE][HIT] v1:PHP:monolog/monolog:1.23.0->f94e75ce235782584221befe6d61c0c724e5521ab5db43a32758e37639ed4781
Step #3: INFO     checking_cached_composer_json_layer took 0 seconds
Step #3: INFO     Building package layer: psr/cache 1.0.1
Step #3: INFO     starting: checking_cached_composer_json_layer
Step #3: DEBUG    Checking cache for cache_key 1653f8112af030010a8d1d21783892dc6ef8b66b0b5d858c5a18aaefe6a52f43
Step #3: INFO     Found cached base image: gcr.io/ftl-node-test/php-lock-plus-one/cache/lock_test/php-cache:1653f8112af030010a8d1d21783892dc6ef8b66b0b5d858c5a18aaefe6a52f43.
Step #3: INFO     Found cached dependency layer for 1653f8112af030010a8d1d21783892dc6ef8b66b0b5d858c5a18aaefe6a52f43
Step #3: INFO     {"architecture": "amd64", "author": "Bazel", "config": {}, "created": "2018-04-24T00:00:00Z", "history": [{"author": "Bazel", "created": "1970-01-01T00:00:00Z", "created_by": "bazel build ..."}], "os": "linux", "rootfs": {"diff_ids": ["sha256:329b1f7094e9256b1cbd278e3929e521cd4733dc759e70c0584706dd4210019b"]}}
Step #3: INFO     [CACHE][HIT] v1:PHP:psr/cache:1.0.1->1653f8112af030010a8d1d21783892dc6ef8b66b0b5d858c5a18aaefe6a52f43
Step #3: INFO     checking_cached_composer_json_layer took 0 seconds
Step #3: INFO     Building package layer: psr/http-message 1.0.1
Step #3: INFO     starting: checking_cached_composer_json_layer
Step #3: DEBUG    Checking cache for cache_key 969637f1be792cc7bc183fd0e1820ffd5cc573b1b0c95ea576e604a1814bc563
Step #3: INFO     Found cached base image: gcr.io/ftl-node-test/php-lock-plus-one/cache/lock_test/php-cache:969637f1be792cc7bc183fd0e1820ffd5cc573b1b0c95ea576e604a1814bc563.
Step #3: INFO     Found cached dependency layer for 969637f1be792cc7bc183fd0e1820ffd5cc573b1b0c95ea576e604a1814bc563
Step #3: INFO     {"architecture": "amd64", "author": "Bazel", "config": {}, "created": "2018-04-24T00:00:00Z", "history": [{"author": "Bazel", "created": "1970-01-01T00:00:00Z", "created_by": "bazel build ..."}], "os": "linux", "rootfs": {"diff_ids": ["sha256:74b98ad37eb70c0aecc0ed1d08a8fb5012b301c508015e6c6b25eae6d18bbabb"]}}
Step #3: INFO     [CACHE][HIT] v1:PHP:psr/http-message:1.0.1->969637f1be792cc7bc183fd0e1820ffd5cc573b1b0c95ea576e604a1814bc563
Step #3: INFO     checking_cached_composer_json_layer took 0 seconds
Step #3: INFO     Building package layer: psr/log 1.0.2
Step #3: INFO     starting: checking_cached_composer_json_layer
Step #3: DEBUG    Checking cache for cache_key 82b6c5e259909a48db6862055d8936a9fb36ec945c61e5172db5385ea3434e79
Step #3: INFO     Found cached base image: gcr.io/ftl-node-test/php-lock-plus-one/cache/lock_test/php-cache:82b6c5e259909a48db6862055d8936a9fb36ec945c61e5172db5385ea3434e79.
Step #3: INFO     Found cached dependency layer for 82b6c5e259909a48db6862055d8936a9fb36ec945c61e5172db5385ea3434e79
Step #3: INFO     {"architecture": "amd64", "author": "Bazel", "config": {}, "created": "2018-04-24T00:00:00Z", "history": [{"author": "Bazel", "created": "1970-01-01T00:00:00Z", "created_by": "bazel build ..."}], "os": "linux", "rootfs": {"diff_ids": ["sha256:e44ad3cf9d8507a7ea99190e769367eb1bb14827d9b03323b39255f536f6c014"]}}
Step #3: INFO     [CACHE][HIT] v1:PHP:psr/log:1.0.2->82b6c5e259909a48db6862055d8936a9fb36ec945c61e5172db5385ea3434e79
Step #3: INFO     checking_cached_composer_json_layer took 0 seconds
Step #3: INFO     Building package layer: rize/uri-template 0.3.2
Step #3: INFO     starting: checking_cached_composer_json_layer
Step #3: DEBUG    Checking cache for cache_key a40ec1f6cb45b434d0cc375244ce52e7caf952e888cd63c5a8f4ae8f4802dd7a
Step #3: INFO     Found cached base image: gcr.io/ftl-node-test/php-lock-plus-one/cache/lock_test/php-cache:a40ec1f6cb45b434d0cc375244ce52e7caf952e888cd63c5a8f4ae8f4802dd7a.
Step #3: INFO     Found cached dependency layer for a40ec1f6cb45b434d0cc375244ce52e7caf952e888cd63c5a8f4ae8f4802dd7a
Step #3: INFO     {"architecture": "amd64", "author": "Bazel", "config": {}, "created": "2018-04-24T00:00:00Z", "history": [{"author": "Bazel", "created": "1970-01-01T00:00:00Z", "created_by": "bazel build ..."}], "os": "linux", "rootfs": {"diff_ids": ["sha256:fef938ec4a461a9e0e2f2070227cbd91c3800514afb9c957471fc3eb717a3986"]}}
Step #3: INFO     [CACHE][HIT] v1:PHP:rize/uri-template:0.3.2->a40ec1f6cb45b434d0cc375244ce52e7caf952e888cd63c5a8f4ae8f4802dd7a
Step #3: INFO     checking_cached_composer_json_layer took 0 seconds
Step #3: INFO     starting: Building app layer
Step #3: INFO     Starting to generate app layer                 tarfile from context...
Step #3: INFO     Finished generating app layer tarfile from context.
Step #3: INFO     Starting to gzip app layer tarfile...
Step #3: INFO     Finished gzipping tarfile.
Step #3: INFO     Building app layer took 0 seconds
Step #3: INFO     starting: Stitching layers into final image
Step #3: INFO     Stitching layers into final image took 1 seconds
Step #3: INFO     starting: Uploading final image
Step #3: INFO     starting: Pushing image to Docker registry
Step #3: INFO     Pushing final image...
Step #3: INFO     Layer sha256:43ae8561f6dcd7d47cfa47164070c73881f2fc2399b98cc0af3d6e5c9ae805bf exists, skipping
Step #3: INFO     Layer sha256:866b9dde7ae0288cca4a3e216465cf8643333cf865a7d893154ecdab621f08f2 exists, skipping
Step #3: INFO     Layer sha256:5aca4de4c0cb2b97dc470646fdc6899fb548265e494401bfaa370a73216fbaa4 exists, skipping
Step #3: INFO     Layer sha256:3c2cba919283a210665e480bcbf943eaaf4ed87a83f02e81bb286b8bdead0e75 exists, skipping
Step #3: INFO     Layer sha256:62c17e5523414c68ff92994f62a1705c25747eaa11da737420b390777fe6ff5d exists, skipping
Step #3: INFO     Layer sha256:011bed8d7f0545a4c0d92e307e697efab6b00ed9b79692c3af222d5f5e831ded exists, skipping
Step #3: INFO     Layer sha256:9d69b688a75686b12e0ad0aa7d6a19fdbc376219b4dcfcdd9331917e83b387f6 exists, skipping
Step #3: INFO     Layer sha256:993d5c953a325a0dd8152dfbefa3b483c103df9208b5e492f75b33294c37ae9e exists, skipping
Step #3: INFO     Layer sha256:b8715dac54955d267e9f94ab2847f5305de80a8e0063be083f9481dba0213570 exists, skipping
Step #3: INFO     Layer sha256:0976172eade04287fb825d779b5d189d4fa37a4055d349d55a333e9b3da0d178 exists, skipping
Step #3: INFO     Layer sha256:1c4e81456a02b943007a60a1b62257f41b6762e07a7e8dcdd08c7cd56ce1f670 exists, skipping
Step #3: INFO     Layer sha256:fc67a85fa0e7d7600ef127e450d291bf3eb88b3a9f17f309c807f6edfd89b9a4 exists, skipping
Step #3: INFO     Layer sha256:4011ec0a29ae1c574b55c2005b2a5eac98f2fc8cd062c1fbaaf038bea72915ab exists, skipping
Step #3: INFO     Layer sha256:04ee99c6d95bc989e8a9472ea74cc79bf9a7d77e3aff7f5339c4cb9beb2222a5 exists, skipping
Step #3: INFO     Layer sha256:d4eb961bdfa62c0187b36e3632a25b5b400f60543ad3841e5aee98e7451502e7 exists, skipping
Step #3: INFO     Layer sha256:48af117c98e878df48979c4f81f64687afe9ba10f56ac156e0986bb1c0ea41a8 exists, skipping
Step #3: INFO     Layer sha256:9a16d7af07fced5fcadc258fa6c65734ecc21fd2e8ec666eace8f12dcb834bf7 exists, skipping
Step #3: INFO     Layer sha256:f3d2e146ba353d998161ed20858ec877c93fbde2186ce700f1fff9aa25907ba3 exists, skipping
Step #3: INFO     Layer sha256:8d4ed74432bd03673c9a43e0fd5c1f9736fb05b3f2e2e5eb2d5bfd36cdf262ff exists, skipping
Step #3: INFO     Layer sha256:8c35819f6775677abd35180b349d59b3f2c7948bbf8e66e96cf54d579264da8e exists, skipping
Step #3: INFO     Layer sha256:bb6e5bc59cdb7fe1e7fad64e8818f4d3c7ae4d7eb89e30db526c57fe5800f914 exists, skipping
Step #3: INFO     Layer sha256:bc03964ef2b63bfd606ebc6e36e8bdb556020cd230edfbe2096285e200556a09 pushed.
Step #3: INFO     Layer sha256:b5c73d1bc4beec559b967fcfa640375faec76074b4ca1065d03366c7b50490d9 pushed.
Step #3: INFO     Layer sha256:d3cd4f8c5e840e642531aeba3f0d3b53e3a9e24b953b0ce55f04d580ad1da16b exists, skipping
Step #3: INFO     Layer sha256:e714a0a8d22f8d52c3876f37f486f68fadf7d1c0d7d43d01fac4956e0edd5d6d exists, skipping
Step #3: INFO     Layer sha256:c8a4bc02e295e9c71272056b5f700d1f1ecf6fb9672a2434d16854bce4cd6f97 exists, skipping
Step #3: INFO     Layer sha256:e3d693cf52e90d033cc4842fa0a1c6c36b587cf61f3877a96ca7d98e02cceba9 exists, skipping
Step #3: INFO     Layer sha256:2825b6a93854e0daef7519a19d3c9d00695e0b9f226f21268cfba63a84f4472c exists, skipping
Step #3: INFO     Layer sha256:65543c87599483068de3fa1bb7b3f4509ac7fdcfb55395cc635adf4e9988af21 exists, skipping
Step #3: INFO     Layer sha256:39b468012310a823fc8bfc16ebe0de45d1f6c6641b7a2d30fa273c737d64ab97 exists, skipping
Step #3: INFO     Layer sha256:2e21f8d709e01abe890deba20390d7e1cc404cd0bb79c3ca3460c7d33eef198c exists, skipping
Step #3: INFO     Finished upload of: gcr.io/ftl-node-test/php-lock-plus-one/cache/lock_test:reupload
Step #3: INFO     Pushing image to Docker registry took 5 seconds
Step #3: INFO     Uploading final image took 5 seconds
Step #3: INFO     build process for FTL image took 25 seconds
Step #3: INFO     full build took 25 seconds
Step #3: 
Step #3: 2018-04-24,00:44:26.852 INFO     Loading Docker credentials for repository 'gcr.io/ftl-node-test/php-lock-plus-one/cache/lock_test:reupload'
Step #3: 2018-04-24,00:44:26.921 INFO     Encountered 4 differences between layers
Step #3: 2018-04-24,00:44:26.922 INFO     Different layer shas: set([u'sha256:e0baa5089505b8062f5a638d9b43cbd4b05ed7a84f4ba403e56821d7100915c8', u'sha256:83f618e89ac48f9be9b2bb37eb633375f554af2a27ea476699de33c3751b8b85', u'sha256:7989d61074a9c27ec162f8de7c064e10f2745a3010aeab1e0070e8e747e1481c', u'sha256:8ec0fd3f31a161c696e9aee1738b18e173eb5a74f1022d67892bf5cf991794b8'])
Finished Step #3
PUSH
DONE
---------------------------------------------------------------------------------------

ID                                    CREATE_TIME                DURATION  SOURCE                                                                                   IMAGES  STATUS
858ed360-5af6-42c1-b785-960e9a03ab6c  2018-04-24T00:40:45+00:00  3M40S     gs://ftl-node-test_cloudbuild/source/1524530414.63-e78f19e724e74438bb192890fa2700a4.tgz  -       SUCCESS
